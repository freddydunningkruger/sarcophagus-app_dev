(this["webpackJsonpsarco-webapp"]=this["webpackJsonpsarco-webapp"]||[]).push([[0],{115:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s}));var r=n(12),a=n(1),c=function(){return[].concat([],[5])},s=function(e){var t=Object(a.useState)(),n=Object(r.a)(t,2),c=n[0],s=n[1];return Object(a.useEffect)((function(){e===parseInt("1337",10)?s({sarcophagus:"0xAcD4684Ad0d02A5C4ce606c7951Ce949e77FC01b",sarcophagusToken:"0x1Ca4f48412216A886079Fd770E8026B4E2a96FB2"}):5===e&&s({sarcophagus:"0x1744b883C9F8aD97001D332D13744B5f8F12e3B8",sarcophagusToken:"0x4633b43990b41B57b3678c6F3Ac35bA75C3D8436"})}),[e]),c}},14:function(e,t,n){"use strict";n.d(t,"g",(function(){return c})),n.d(t,"j",(function(){return s})),n.d(t,"h",(function(){return i})),n.d(t,"i",(function(){return o})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"f",(function(){return b})),n.d(t,"a",(function(){return m}));var r=n(95),a=n(44),c={createSarco:"Create a Sarcophagus",nameAndRecipient:"Name Sarcophagus and add your recipient",fileUpload:"Upload your file to your Sarcophagus",pickArchaeologist:"Pick an Archaeologist",resurrectionTime:"Set resurrection time"},s=(Object(r.a)(365,!0),Object(r.a)(23),Object(r.a)(59),Object(a.f)(7)),i=Object(a.f)(30),o=Object(a.f)(90),u={SARCOPHAGUS_PENDING:"Sarcophagus is mining",SARCOPHAGUS_SUCCESS:"Sarcophagus has been mined!",ARWEAVE_STARTED:"File is being uploaded",ARWEAVE_PENDING:"File is being mined on arweave",ARWEAVE_SUCCESS:"File has been mined!",ARWEAVE_TIMEOUT:"Timed out, refresh brower to try again",SARCOPHAGUS_AWAIT_SIGN:"Signing needed",CHECKING_STATUS:"Checking status...",PROCESS_COMPLETE:"Sarcophagus is Active",WINDOW_CLOSED:"Resurrection Window is past",REWRAP_IN_PROGRESS:"Rewrap in Progress"},l={SARCOPHAGUS_FAILED:"",BLOCKCHAIN_SERVER:"There was an error connection to blockchain",ARWEAVE_TRANSACTION_FAILED:"There was an error connecting to service",ARWEAVE_FILE_ERROR:"There was an error sending file"},d=5,p=15,b="0 days 00:00:00",m="text-gray-400"},185:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return h}));var r=n(12),a=n(1),c=n(45),s=n(433),i=n(409),o=n.n(i),u=n(410),l=n.n(u),d=n(115),p=n(411),b=n.n(p),m={walletconnect:{package:l.a,options:{infuraId:"27e484dcd9e3efcfd25a83a78777cdf1"}}},j=new o.a({providerOptions:m}),f=function(){var e=Object(a.useState)(null),t=Object(r.a)(e,2),n=t[0],i=t[1],o=Object(a.useState)(null),u=Object(r.a)(o,2),l=u[0],p=u[1],m=Object(a.useState)(!1),f=Object(r.a)(m,2),h=f[0],g=f[1];return Object(a.useEffect)((function(){(window.ethereum||n)&&g(window.ethereum)}),[n]),Object(a.useEffect)((function(){b()().then((function(e){e&&h&&(i(e),p(new c.a.providers.Web3Provider(e)))}))}),[h]),j.on("connect",(function(e){i(e),p(new c.a.providers.Web3Provider(e))})),Object(a.useEffect)((function(){n&&(n.on("accountsChanged",(function(e){0===e.length&&(i(null),p(null))})),n.on("chainChanged",(function(e){Object(d.a)().includes(parseInt(e))||(s.a.info("Switch to a supported network",{toastId:"switchNetwork"}),i(null),p(null))})))}),[n]),l},h=function(){j.connect().catch(console.error)}},198:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var r=n(3),a=n.n(r),c=n(19),s=n(427),i=n.n(s),o=function(){return i.a.init({host:"arweave.net",port:443,protocol:"https",timeout:2e4,logging:!1})},u=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.transactions.get(n).then((function(e){var t=e.get("tags").filter((function(e){return"Content-Type"===e.get("name",{decode:!0,string:!0})})).map((function(e){return e.get("value",{decode:!0,string:!0})}));return t.length&&""!==t[0]})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var t=Object(c.a)(a.a.mark((function t(n,r,c){var s,i,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.transactions.getData(r,{decode:!0});case 3:return s=t.sent,i=e.from(s),o=e.from(c.data),t.abrupt("return",0===e.compare(i,o));case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n,r){return t.apply(this,arguments)}}()}).call(this,n(17).Buffer)},262:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var r=n(57),a=n(39),c=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=a.utils.arrayify(t);if(n){var s=new Uint8Array([4]);return e.from(new Uint8Array([].concat(Object(r.a)(s),Object(r.a)(c))))}return e.from(c)}}).call(this,n(17).Buffer)},34:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return u}));var r=n(415),a=n.n(r),c=n(39),s=function(e,t){return a()(c.utils.formatUnits(e,t))},i=function(e,t){return s(e,t).value()},o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.feePerByte,a=e.minimumBounty,c=e.minimumDiggingFee,s=t.size;if(!r||!a||!c)return"";if(!s)return"";var o=r.mul(s+226).add(a).add(c),u=i(o,18);return n?o:u},u=function(e,t){var n=e.div(t.add(e));return i(n,18)}},412:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"_sarcoToken","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"sarcoToken","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"archaeologistCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"archaeologistAddresses","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"archaeologists","outputs":[{"components":[{"internalType":"bool","name":"exists","type":"bool"},{"internalType":"bytes","name":"currentPublicKey","type":"bytes"},{"internalType":"string","name":"endpoint","type":"string"},{"internalType":"address","name":"paymentAddress","type":"address"},{"internalType":"uint256","name":"feePerByte","type":"uint256"},{"internalType":"uint256","name":"minimumBounty","type":"uint256"},{"internalType":"uint256","name":"minimumDiggingFee","type":"uint256"},{"internalType":"uint256","name":"maximumResurrectionTime","type":"uint256"},{"internalType":"uint256","name":"freeBond","type":"uint256"},{"internalType":"uint256","name":"cursedBond","type":"uint256"}],"internalType":"struct Types.Archaeologist","name":"","type":"tuple"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"sarcophagusCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"sarcophagusIdentifier","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"embalmer","type":"address"}],"name":"embalmerSarcophagusCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"embalmer","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"embalmerSarcophagusIdentifier","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"archaeologist","type":"address"}],"name":"archaeologistSarcophagusCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"archaeologist","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"archaeologistSarcophagusIdentifier","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"recipient","type":"address"}],"name":"recipientSarcophagusCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"recipientSarcophagusIdentifier","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"bytes32","name":"identifier","type":"bytes32"}],"name":"sarcophagus","outputs":[{"components":[{"internalType":"enum Types.SarcophagusStates","name":"state","type":"uint8"},{"internalType":"address","name":"archaeologist","type":"address"},{"internalType":"bytes","name":"archaeologistPublicKey","type":"bytes"},{"internalType":"address","name":"embalmer","type":"address"},{"internalType":"string","name":"name","type":"string"},{"internalType":"uint256","name":"resurrectionTime","type":"uint256"},{"internalType":"uint256","name":"resurrectionWindow","type":"uint256"},{"internalType":"string","name":"assetId","type":"string"},{"internalType":"bytes","name":"recipientPublicKey","type":"bytes"},{"internalType":"uint256","name":"storageFee","type":"uint256"},{"internalType":"uint256","name":"diggingFee","type":"uint256"},{"internalType":"uint256","name":"bounty","type":"uint256"},{"internalType":"uint256","name":"currentCursedBond","type":"uint256"},{"internalType":"bytes32","name":"privateKey","type":"bytes32"}],"internalType":"struct Types.Sarcophagus","name":"","type":"tuple"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"bytes","name":"currentPublicKey","type":"bytes"},{"internalType":"string","name":"endpoint","type":"string"},{"internalType":"address","name":"paymentAddress","type":"address"},{"internalType":"uint256","name":"feePerByte","type":"uint256"},{"internalType":"uint256","name":"minimumBounty","type":"uint256"},{"internalType":"uint256","name":"minimumDiggingFee","type":"uint256"},{"internalType":"uint256","name":"maximumResurrectionTime","type":"uint256"},{"internalType":"uint256","name":"freeBond","type":"uint256"}],"name":"registerArchaeologist","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"endpoint","type":"string"},{"internalType":"bytes","name":"newPublicKey","type":"bytes"},{"internalType":"address","name":"paymentAddress","type":"address"},{"internalType":"uint256","name":"feePerByte","type":"uint256"},{"internalType":"uint256","name":"minimumBounty","type":"uint256"},{"internalType":"uint256","name":"minimumDiggingFee","type":"uint256"},{"internalType":"uint256","name":"maximumResurrectionTime","type":"uint256"},{"internalType":"uint256","name":"freeBond","type":"uint256"}],"name":"updateArchaeologist","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"withdrawBond","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"address","name":"archaeologist","type":"address"},{"internalType":"uint256","name":"resurrectionTime","type":"uint256"},{"internalType":"uint256","name":"storageFee","type":"uint256"},{"internalType":"uint256","name":"diggingFee","type":"uint256"},{"internalType":"uint256","name":"bounty","type":"uint256"},{"internalType":"bytes32","name":"identifier","type":"bytes32"},{"internalType":"bytes","name":"recipientPublicKey","type":"bytes"}],"name":"createSarcophagus","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes","name":"newPublicKey","type":"bytes"},{"internalType":"bytes32","name":"identifier","type":"bytes32"},{"internalType":"string","name":"assetId","type":"string"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"updateSarcophagus","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"identifier","type":"bytes32"}],"name":"cancelSarcophagus","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"identifier","type":"bytes32"},{"internalType":"uint256","name":"resurrectionTime","type":"uint256"},{"internalType":"uint256","name":"diggingFee","type":"uint256"},{"internalType":"uint256","name":"bounty","type":"uint256"}],"name":"rewrapSarcophagus","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"identifier","type":"bytes32"},{"internalType":"bytes32","name":"privateKey","type":"bytes32"}],"name":"unwrapSarcophagus","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"identifier","type":"bytes32"},{"internalType":"bytes","name":"singleHash","type":"bytes"},{"internalType":"address","name":"paymentAddress","type":"address"}],"name":"accuseArchaeologist","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"identifier","type":"bytes32"}],"name":"burySarcophagus","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"identifier","type":"bytes32"},{"internalType":"address","name":"paymentAddress","type":"address"}],"name":"cleanUpSarcophagus","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')},413:function(e){e.exports=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')},414:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var r=n(3),a=n.n(r),c=n(19),s=n(39),i=n(32),o=n(14),u=function(t){var n=function(){var e=Object(c.a)(a.a.mark((function e(n,r,c,s,i,o,u,l,d,p,b){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.createSarcophagus(n,r.paymentAddress,c,s,i,o,u,l).then((function(e){console.log("\ud83d\ude80 create ~txReceipt",e);var t={sarcophagusName:n,doubleEncryptedFile:d,fileType:p,endpoint:r.endpoint,txReceipt:e};localStorage.setItem(u,JSON.stringify(t)),b.replace("/")})).catch((function(e){return console.error("Error creating Sarcophagus:",e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c,s,i,o,u,l,d){return e.apply(this,arguments)}}(),r=function(){var n=Object(c.a)(a.a.mark((function n(r,c){var i,u,l,d,p,b,m,j,f,h;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i=e.from(s.utils.arrayify(r.AssetDoubleHash)),u=localStorage.getItem(i.toLocaleString()),l=JSON.parse(u),d=l.NewPublicKey,p=l.AssetDoubleHash,b=l.AssetId,m=l.V,j=l.R,f=l.S,d=e.from(d,"base64"),n.next=8,t.updateSarcophagus(d,p,b,m,j,f);case 8:h=n.sent,console.log("\ud83d\ude80 update ~txReceipt",h),localStorage.removeItem(p.toLocaleString()),c(o.e.PROCESS_COMPLETE),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),console.error("There was a problem updating sarcophagus",n.t0);case 17:case"end":return n.stop()}}),n,null,[[0,14]])})));return function(e,t){return n.apply(this,arguments)}}(),u=function(){var n=Object(c.a)(a.a.mark((function n(r,c){var o,u,l,d,p,b,m,j,f,h,g;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o=r.AssetDoubleHash,u=c.bounty,l=c.diggingFee,d=c.resurrectionTime,p=e.from(s.utils.arrayify(o)),b=i.a.from(d/1e3),m=s.utils.parseEther(l.toString()),j=s.utils.parseEther(u.toString()),n.next=9,t.rewrapSarcophagus(p,b,m,j);case 9:f=n.sent,console.log("\ud83d\ude80 ~ rewrap ~ txReceipt",f),h={action:"rewrap",txReceipt:f},g=s.utils.arrayify(o),localStorage.setItem(g,JSON.stringify(h)),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(0),console.error("There was a problem rewrapping sarcophagus",n.t0);case 19:case"end":return n.stop()}}),n,null,[[0,16]])})));return function(e,t){return n.apply(this,arguments)}}(),l=function(){var n=Object(c.a)(a.a.mark((function n(r){var c,i,o;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c=r.AssetDoubleHash,i=e.from(s.utils.arrayify(c)),n.next=5,t.burySarcophagus(i);case 5:o=n.sent,console.log("\ud83d\ude80 ~ burySarcophagus ~ txReceipt",o),localStorage.removeItem(i.toLocaleString()),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.error("There was a problem buring sarcophagus",n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}(),d=function(){var n=Object(c.a)(a.a.mark((function n(r){var c,i,o,u;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c=r.AssetDoubleHash,i=r.paymentAddress,o=e.from(s.utils.arrayify(c)),localStorage.removeItem(o.toLocaleString()),n.next=6,t.cleanUpSarcophagus(o,i);case 6:u=n.sent,console.log("\ud83d\ude80  ~ cleanSarcophagus ~ txReceipt",u),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.error("There was a problem cleaning sarcophagus",n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}();return{createSarcophagus:n,updateSarcophagus:r,cancelSarcophagus:function(){var n=Object(c.a)(a.a.mark((function n(r){var c,i,o;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c=r.AssetDoubleHash,i=e.from(s.utils.arrayify(c)),n.next=5,t.cancelSarcophagus(i);case 5:o=n.sent,console.log("\ud83d\ude80 ~ cancelSarcophagus ~ txReceipt",o),localStorage.removeItem(i.toLocaleString()),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.error("There was a problem canceling sarcophagus",n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}(),cleanSarcophagus:d,burySarcophagus:l,rewrapSarcophagus:u}}}).call(this,n(17).Buffer)},423:function(e,t,n){"use strict";(function(e){var r=n(12),a=n(1),c=n(39),s=n(14),i=n(424),o=n(425),u=n(426),l=n(44);t.a=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1?arguments[1]:void 0,d=arguments.length>2?arguments[2]:void 0,p=Object(a.useState)(e.from(c.utils.arrayify(t))),b=Object(r.a)(p,1),m=b[0],j=Object(a.useState)(!1),f=Object(r.a)(j,2),h=f[0],g=f[1],y=Object(a.useState)({}),O=Object(r.a)(y,2),x=O[0],v=O[1],w=Object(a.useState)(s.e.CHECKING_STATUS),S=Object(r.a)(w,2),T=S[0],N=S[1],A=Object(a.useState)(!1),C=Object(r.a)(A,2),k=C[0],E=C[1],P=Object(i.a)(h,N,k,E,m,d),R=P.isSarcophagusMined;return Object(o.a)(R,v,h,N,k,E),Object(u.a)(x,v,N,k,E,n.name),Object(a.useEffect)((function(){if(m){var e=localStorage.getItem(m.toLocaleString()),t=JSON.parse(e);if(Object(l.g)(n.resurrectionTime,n.resurrectionWindow))N(s.e.WINDOW_CLOSED);else if(e){if("rewrap"===(null===t||void 0===t?void 0:t.action))return N(s.e.REWRAP_IN_PROGRESS),void g(t);if(null===t||void 0===t?void 0:t.AssetId)return void v(t);g(t)}else{if(2===(null===n||void 0===n?void 0:n.state))return void console.log("Should never see this");if(null===n||void 0===n?void 0:n.assetId)return void N(s.e.PROCESS_COMPLETE)}}}),[m,n]),{currentStatus:T,setCurrentStatus:N,error:k}}}).call(this,n(17).Buffer)},424:function(e,t,n){"use strict";var r=n(3),a=n.n(r),c=n(19),s=n(12),i=n(52),o=n(1),u=n(14);t.a=function(e,t,n,r,l,d){var p=Object(i.b)().provider,b=Object(o.useState)(!1),m=Object(s.a)(b,2),j=m[0],f=m[1],h=Object(o.useCallback)(Object(c.a)(a.a.mark((function n(){var c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,p.getTransactionReceipt(e.txReceipt.hash);case 3:if(!(c=n.sent)||!c.blockNumber){n.next=11;break}if("rewrap"!==e.action){n.next=9;break}return d(),localStorage.removeItem(l.toLocaleString()),n.abrupt("return");case 9:f(!0),t(u.e.SARCOPHAGUS_SUCCESS);case 11:n.next=17;break;case 13:n.prev=13,n.t0=n.catch(0),console.error(n.t0),r(u.b.BLOCKCHAIN_SERVER);case 17:case"end":return n.stop()}}),n,null,[[0,13]])}))),[e,p,r,t,l,d]);return Object(o.useEffect)((function(){e&&(n||h())}),[e,h,n]),{isSarcophagusMined:j}}},425:function(e,t,n){"use strict";var r=n(3),a=n.n(r),c=n(19),s=n(1),i=n(14);t.a=function(e,t,n,r,o,u){var l=Object(s.useCallback)(function(){var e=Object(c.a)(a.a.mark((function e(t,n,r){var c,s,o,l,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c="http://"+r+"/file",s=new Uint8Array(t.data),e.next=5,btoa([].reduce.call(s,(function(e,t){return e+String.fromCharCode(t)}),""));case 5:return o=e.sent,e.next=8,fetch(c,{method:"POST",body:JSON.stringify({fileType:n,fileBytes:o})});case 8:if((l=e.sent).ok){e.next=11;break}throw new Error("Failed to send file");case 11:return e.next=13,l.json();case 13:return d=e.sent,e.abrupt("return",d);case 17:e.prev=17,e.t0=e.catch(0),console.error(e.t0),u(i.b.ARWEAVE_FILE_ERROR);case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t,n,r){return e.apply(this,arguments)}}(),[u]),d=Object(s.useCallback)(Object(c.a)(a.a.mark((function e(){var c,s,o,d,p,b,m,j,f,h,g,y;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=n.doubleEncryptedFile,s=n.fileType,o=n.endpoint,d=n.txReceipt,r(i.e.ARWEAVE_STARTED),e.next=5,l(c,s,o);case 5:if(null===(p=e.sent)||void 0===p?void 0:p.AssetId){e.next=10;break}return u(i.b.ARWEAVE_TRANSACTION_FAILED),r(i.b.ARWEAVE_TRANSACTION_FAILED),e.abrupt("return");case 10:b=p.NewPublicKey,m=p.AssetDoubleHash,j=p.AssetId,f=p.V,h=p.R,g=p.S,y={NewPublicKey:b,AssetDoubleHash:m,V:f,R:h,S:g,AssetId:j,doubleEncryptedFile:c,txReceipt:d},localStorage.setItem(m,JSON.stringify(y)),t(y),r(i.e.ARWEAVE_PENDING),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),u(i.b.ARWEAVE_TRANSACTION_FAILED),console.error(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,17]])}))),[n,l,t,r,u]);Object(s.useEffect)((function(){e&&(o||d())}),[d,e,o])}},426:function(e,t,n){"use strict";var r=n(3),a=n.n(r),c=n(19),s=n(1),i=n(14),o=n(198);t.a=function(e,t,n,r,u,l){var d=Object(s.useCallback)(Object(c.a)(a.a.mark((function r(){var s,d,p,b,m,j;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=Object(o.c)(),d=e.AssetId,p=e.doubleEncryptedFile,r.next=4,Object(o.b)(s,d,p);case 4:return r.sent||u(i.b.ARWEAVE_FILE),b=(new Date).getTime(),m=2,r.next=10,s.api.get("tx/".concat(d));case 10:if(200!==r.sent.status){r.next=15;break}return n(i.e.SARCOPHAGUS_AWAIT_SIGN),t(!1),r.abrupt("return");case 15:n(i.e.ARWEAVE_PENDING),j=setInterval(Object(c.a)(a.a.mark((function e(){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(new Date).getTime()-b>60*i.d*1e3&&(clearInterval(j),n(i.e.ARWEAVE_TIMEOUT)),e.prev=1,e.next=4,s.api.get("tx/".concat(d));case 4:r=e.sent,e.t0=r.status,e.next=202===e.t0?8:200===e.t0?10:18;break;case 8:return console.log("".concat(l,": still mining")),e.abrupt("break",19);case 10:return clearInterval(j),e.next=13,Object(o.a)(s,d);case 13:return e.sent||u(i.b.ARWEAVE_FILE),n(i.e.SARCOPHAGUS_AWAIT_SIGN),t(!1),e.abrupt("break",19);case 18:m>0?m-=1:(clearInterval(j),u(i.b.ARWEAVE_TRANSACTION));case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(1),m>0?m-=1:(clearInterval(j),u(i.b.ARWEAVE_TRANSACTION));case 24:case"end":return e.stop()}}),e,null,[[1,21]])}))),1e3*i.c);case 17:case"end":return r.stop()}}),r)}))),[e,t,n,u,l]);Object(s.useEffect)((function(){(null===e||void 0===e?void 0:e.AssetId)&&(r||d())}),[d,e,r])}},428:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var r=n(16),a=n(3),c=n.n(a),s=n(19),i=n(12),o=n(1),u=n(52),l=n(39),d=function(t){var n=Object(o.useState)([]),a=Object(i.a)(n,2),d=a[0],p=a[1],b=Object(o.useState)(!1),m=Object(i.a)(b,2),j=m[0],f=m[1],h=Object(o.useState)(!1),g=Object(i.a)(h,2),y=g[0],O=g[1],x=Object(u.b)().account,v=Object(o.useCallback)(Object(s.a)(c.a.mark((function e(){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.recipientSarcophagusCount(x);case 3:n=e.sent,O(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[t,x]),w=Object(o.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n){var r,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,r=[],a=0;case 3:if(!(a<=n-1)){e.next=11;break}return e.next=6,t.recipientSarcophagusIdentifier(x,a);case 6:s=e.sent,r.push(s);case 8:a++,e.next=3;break;case 11:return e.next=13,f(r);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),[t,x]),S=Object(o.useCallback)(Object(s.a)(c.a.mark((function n(){var a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Promise.all(j.map(function(){var n=Object(s.a)(c.a.mark((function n(a){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=r.a,n.t1=r.a,n.t2={},n.next=5,t.sarcophagus(e.from(l.utils.arrayify(a)));case 5:return n.t3=n.sent,n.t4=(0,n.t1)(n.t2,n.t3),n.t5={},n.t6={AssetDoubleHash:a},n.abrupt("return",(0,n.t0)(n.t4,n.t5,n.t6));case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())).catch((function(e){return console.log("e",e)}));case 3:return a=n.sent,n.next=6,p(a);case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.error(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])}))),[j,t]);return Object(o.useEffect)((function(){t&&v()}),[v,t]),Object(o.useEffect)((function(){y&&t&&(y.isZero()||w(y.toNumber()))}),[y,w,t]),Object(o.useEffect)((function(){y&&t&&Array.isArray(j)&&S()}),[v,w,S,j,y,t]),{recipientSarcophagi:d,getRecipientSarcophagiCount:v}}}).call(this,n(17).Buffer)},429:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var r=n(16),a=n(3),c=n.n(a),s=n(19),i=n(12),o=n(39),u=n(1),l=n(52),d=function(t){var n=Object(u.useState)([]),a=Object(i.a)(n,2),d=a[0],p=a[1],b=Object(u.useState)([]),m=Object(i.a)(b,2),j=m[0],f=m[1],h=Object(u.useState)(!1),g=Object(i.a)(h,2),y=g[0],O=g[1],x=Object(u.useState)(!1),v=Object(i.a)(x,2),w=v[0],S=v[1],T=Object(u.useState)(0),N=Object(i.a)(T,2),A=N[0],C=N[1],k=Object(l.b)().account,E=window.localStorage,P=Object(u.useCallback)(Object(s.a)(c.a.mark((function e(){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.embalmerSarcophagusCount(k);case 3:n=e.sent,S(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[t,k]),R=Object(u.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n){var r,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,r=[],a=0;case 3:if(!(a<=n-1)){e.next=11;break}return e.next=6,t.embalmerSarcophagusIdentifier(k,a);case 6:s=e.sent,r.push(s);case 8:a++,e.next=3;break;case 11:return e.next=13,O(r);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),[t,k]),F=Object(u.useCallback)(Object(s.a)(c.a.mark((function n(){var a,i,u;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Promise.all(y.map(function(){var n=Object(s.a)(c.a.mark((function n(a){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=r.a,n.t1=r.a,n.t2={},n.next=5,t.sarcophagus(e.from(o.utils.arrayify(a)));case 5:return n.t3=n.sent,n.t4=(0,n.t1)(n.t2,n.t3),n.t5={},n.t6={AssetDoubleHash:a},n.abrupt("return",(0,n.t0)(n.t4,n.t5,n.t6));case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())).catch((function(e){return console.log("e",e)}));case 3:return a=n.sent,n.next=6,a.filter((function(e){return 1===e.state}));case 6:return i=n.sent,n.next=9,a.filter((function(e){return 2===e.state}));case 9:return u=n.sent,n.next=12,p(i);case 12:return n.next=14,f(u);case 14:n.next=19;break;case 16:n.prev=16,n.t0=n.catch(0),console.error(n.t0);case 19:case"end":return n.stop()}}),n,null,[[0,16]])}))),[y,t]);return Object(u.useEffect)((function(){t&&P()}),[P,t]),Object(u.useEffect)((function(){w&&t&&(w.isZero()||R(w.toNumber()))}),[w,R,t]),Object(u.useEffect)((function(){w&&t&&Array.isArray(y)&&F()}),[P,R,F,y,w,t]),Object(u.useEffect)((function(){for(var t=0,n=d.map((function(t){return e.from(o.utils.arrayify(t.AssetDoubleHash)).toLocaleString()})),r=0;r<E.length;r++){var a=E.key(r);n.includes(a)||(t+=1)}C(t)}),[d,E]),Object(u.useEffect)((function(){if(0!==A){var e=setInterval((function(){console.log("Pending Sarcophagus are being Mined..."),P()}),5e3);return function(){return clearInterval(e)}}}),[E,A,P]),{embalmerSarcophagi:d,overSarcophagi:j,pendingCount:A,getSarcophagiCount:P}}}).call(this,n(17).Buffer)},430:function(e){e.exports=JSON.parse('{"name":"sarco-webapp","version":"0.1.0","private":true,"dependencies":{"@craco/craco":"^6.0.0","@metamask/detect-provider":"^1.2.0","@tailwindcss/postcss7-compat":"^2.0.2","@testing-library/jest-dom":"^5.11.4","@testing-library/react":"^11.1.0","@testing-library/user-event":"^12.1.10","@tippyjs/react":"^4.2.0","@walletconnect/web3-provider":"^1.3.3","arweave":"^1.10.1","authereum":"^0.1.0","autoprefixer":"^9.8.6","classnames":"^2.2.6","ecies-geth":"^1.4.0","ethers":"^5.0.24","formik":"^2.2.6","numeral":"^2.0.6","postcss":"^7.0.35","react":"^17.0.1","react-datepicker":"^3.3.0","react-dom":"^17.0.1","react-dropzone":"^11.2.4","react-router-dom":"^5.2.0","react-scripts":"4.0.1","react-toastify":"^6.2.0","tailwindcss":"npm:@tailwindcss/postcss7-compat@^2.0.2","web-vitals":"^0.2.4","web3modal":"^1.9.2","yup":"^0.32.8"},"scripts":{"start":"REACT_APP_GIT_HASH=`git rev-parse --short HEAD` craco start","build":"REACT_APP_GIT_HASH=`git rev-parse --short HEAD` craco build","test":"craco test","eject":"react-scripts eject"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"engines":{"node":"12.20.1"},"devDependencies":{"dotenv":"^8.2.0","truffle":"^5.1.59"},"homepage":"https://app.dev.sarcophagus.io"}')},44:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return i})),n.d(t,"g",(function(){return l}));var r=n(34),a=function(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds())},c=function(e){var t=new Date;return t.setDate(t.getDate()+e),a(t)},s=function(e){var t=1e3*Object(r.d)(e,0).value(),n=new Date(t),a=n.getTimezoneOffset();return n.setMinutes(n.getMinutes()+a),"".concat(n.toLocaleDateString()," ").concat(n.toLocaleTimeString())},i=function(e){if(!e)return"00/00/0000 0:00:00 AM";var t=new Date(e),n=t.getTimezoneOffset();return t.setMinutes(t.getMinutes()+n),"".concat(t.toLocaleDateString(),"  ").concat(t.toLocaleTimeString())},o=function(e){var t=new Date(e),n=t.getTimezoneOffset();return t.setMinutes(t.getMinutes()+n),t},u=function(e){var t=e.getTimezoneOffset();e.setMinutes(e.getMinutes()+t);var n=e-Date.parse(new Date),r=Math.floor(n/1e3%60),a=Math.floor(n/1e3/60%60),c=Math.floor(n/36e5%24),s=Math.floor(n/864e5);return"".concat(s," days ").concat(d(c),":").concat(d(a),":").concat(d(r))},l=function(e,t){var n=1e3*Object(r.d)(e,0).value(),a=1e3*Object(r.d)(t,0).value();return Math.sign(n+a-Date.now().valueOf()<=0)},d=function(e){return e<10?"0".concat(e):e}},445:function(e,t,n){},448:function(e,t){},455:function(e,t){},470:function(e,t){},507:function(e,t){},509:function(e,t){},519:function(e,t){},52:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}));var r,a=n(0),c=n(12),s=n(1),i=n(152),o=(n(45),n(185)),u=n(115),l=function(){(r=Object(s.createContext)()).displayName="Web3 Provider";var e=r.Provider;return function(t){var n=t.children,r=Object(o.b)(),l=function(e){var t=Object(s.useState)(null),n=Object(c.a)(t,2),r=n[0],a=n[1];return Object(s.useEffect)((function(){a(null)}),[r,e]),r}(!!r),d=function(e){var t=Object(s.useState)(null),n=Object(c.a)(t,2),r=n[0],a=n[1];return Object(s.useEffect)((function(){!r&&e&&a(Object(i.getDefaultProvider)(parseInt("5",10)))}),[r,e]),r}(!!l),p="Not connected",b=Object(s.useState)({name:p,account:!1,chainId:null,provider:null,signerOrProvider:null}),m=Object(c.a)(b,2),j=m[0],f=m[1];return Object(s.useEffect)((function(){(null===r||void 0===r?void 0:r.provider)&&Object(u.a)().includes(parseInt(null===r||void 0===r?void 0:r.provider.chainId))?f({name:"Injected provider",account:r.provider.selectedAddress,chainId:parseInt(r.provider.chainId),provider:r,signerOrProvider:r.getSigner()}):l?l.detectNetwork().then((function(e){f({name:"Local provider",account:!1,chainId:e.chainId,provider:l,signerOrProvider:l})})).catch(console.error):f(d?{name:"Fallback provider",account:!1,chainId:d.network.chainId,provider:d,signerOrProvider:d}:{name:p,account:!1,chainId:null,provider:null,signerOrProvider:null})}),[r,l,d]),Object(a.jsx)(e,{value:j,children:n})}}(),d=function(){return Object(s.useContext)(r)}},521:function(e,t){},546:function(e,t){},548:function(e,t){},549:function(e,t){},555:function(e,t){},568:function(e,t){},580:function(e,t){},583:function(e,t){},624:function(e,t){},626:function(e,t){},656:function(e,t){},659:function(e,t){},717:function(e,t){},907:function(e,t,n){"use strict";n.r(t);var r,a=n(0),c=n(1),s=n.n(c),i=n(66),o=n.n(i),u=(n(445),n(75)),l=n(42),d=n(12),p=n(191),b=n(3),m=n.n(b),j=n(19),f=n(52),h=n(153),g=n(115),y=n(412),O=n(413),x=n(414),v=n(32),w=function(){(r=Object(c.createContext)()).displayName="Data Provider";var e=r.Provider;return function(t){var n=t.children,r=function(){var e=Object(f.b)(),t=e.chainId,n=e.signerOrProvider,r=Object(g.b)(t),a=Object(c.useState)(),s=Object(d.a)(a,2),i=s[0],o=s[1];return Object(c.useEffect)((function(){if(t&&r&&n)try{var e=new h.a(r.sarcophagus,y,n);o(e)}catch(a){console.log("sarco contract error"),console.error(a)}}),[t,n,r]),i}(),s=function(){var e=Object(f.b)(),t=e.chainId,n=e.signerOrProvider,r=Object(g.b)(t),a=Object(c.useState)(),s=Object(d.a)(a,2),i=s[0],o=s[1];return Object(c.useEffect)((function(){if(t&&r&&n)try{var e=new h.a(r.sarcophagusToken,O,n);o(e)}catch(a){console.log("sarco token contract error"),console.error(a)}}),[t,n,r]),i}(),i=function(e){var t=Object(c.useState)([]),n=Object(d.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(!1),i=Object(d.a)(s,2),o=i[0],u=i[1],l=Object(c.useState)(!1),p=Object(d.a)(l,2),b=p[0],f=p[1],h=Object(c.useCallback)(function(){var e=Object(j.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.archaeologistCount();case 3:n=e.sent,f(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),[]),g=Object(c.useCallback)(function(){var e=Object(j.a)(m.a.mark((function e(t,n){var r,a,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,r=[],a=0;case 3:if(!(a<=n-1)){e.next=11;break}return e.next=6,t.archaeologistAddresses(a);case 6:c=e.sent,r.push(c);case 8:a++,e.next=3;break;case 11:return e.next=13,u(r);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n){return e.apply(this,arguments)}}(),[]),y=Object(c.useCallback)(function(){var e=Object(j.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all(o.map(function(){var e=Object(j.a)(m.a.mark((function e(n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.archaeologists(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:n=e.sent,r=n.filter((function(e){return!e.freeBond.isZero()})),a(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),[o]);return Object(c.useEffect)((function(){e&&h(e)}),[h,e]),Object(c.useEffect)((function(){b&&e&&(b.isZero()||g(e,b.toNumber()))}),[b,g,e]),Object(c.useEffect)((function(){b&&e&&o&&y(e)}),[h,g,y,o,b,e]),{archaeologists:r}}(r).archaeologists,o=function(){var e=Object(c.useState)(0),t=Object(d.a)(e,2),n=t[0],r=t[1],a=Object(f.b)().provider;return Object(c.useEffect)((function(){if(a){a.getBlockNumber().then((function(e){r(e)})).catch(console.error);var e=function(e){r(e)};return a.on("block",e),function(){a.removeListener("block",e)}}}),[a]),n}().currentBlock,u=function(e,t){var n=Object(f.b)().account,r=Object(c.useState)(v.a.from(0)),a=Object(d.a)(r,2),s=a[0],i=a[1];return Object(c.useEffect)((function(){n&&e&&t&&t.allowance(n,null===e||void 0===e?void 0:e.address).then((function(e){i(e)})).catch((function(e){return console.error(e)}))}),[n,e,t]),s}(r,s),l=function(e,t){var n=Object(f.b)().account,r=Object(c.useState)(v.a.from(0)),a=Object(d.a)(r,2),s=a[0],i=a[1];return Object(c.useEffect)((function(){n&&e&&e.balanceOf(n).then((function(e){i(e)})).catch(console.error)}),[n,e,t]),s}(s,o),p=Object(x.a)(r),b={sarcophagusContract:r,sarcophagusTokenContract:s,archaeologists:i,createSarcophagus:p.createSarcophagus,updateSarcophagus:p.updateSarcophagus,allowance:u,balance:l,cancelSarcophagus:p.cancelSarcophagus,cleanSarcophagus:p.cleanSarcophagus,rewrapSarcophagus:p.rewrapSarcophagus,burySarcophagus:p.burySarcophagus};return Object(a.jsx)(e,{value:b,children:n})}}(),S=function(){return Object(c.useContext)(r)},T=n(14),N=n(16),A=n(36),C=n(27),k=n.n(C),E="py-12 pr-2 relative border-b border-gray-500",P=function(e){var t=e.transition,n=void 0===t||t,r=e.addClass,c=e.children,s=Object(A.a)(e,["transition","addClass","children"]);return Object(a.jsx)("div",Object(N.a)(Object(N.a)({className:n?k()(E,"ease-in-transition",r):k()(E,r)},s),{},{children:c}))},R=n(44),F=n(192),I=n.p+"static/media/question.d848fe1b.svg",D=function(e){var t=e.children;return Object(a.jsx)(F.a,{content:t,className:"border-2 border-white rounded text-center text-xs font-normal p-2 bg-gray-900",children:Object(a.jsx)("img",{src:I,alt:"tooltip"})})},M=function(e){var t=e.title,n=e.icon;return Object(a.jsxs)("div",{className:"flex items-center mb-6 whitespace-nowrap",children:[n&&Object(a.jsx)("img",{src:n,alt:"",className:"mr-4"}),Object(a.jsx)("span",{className:"text-lg",children:t})]})},_=function(e){var t=e.title,n=e.icon,r=void 0!==n&&n;return Object(a.jsxs)("div",{className:"flex items-center text-white whitespace-pre-wrap md:whitespace-nowrap mr-2",children:[r&&Object(a.jsx)("img",{src:r,alt:"",className:"mr-4"}),Object(a.jsx)("span",{className:"text-base font-bold",children:t})]})},B=function(e){var t=e.title,n=e.showToolTip,r=void 0!==n&&n;return Object(a.jsxs)("div",{className:"flex mb-2 items-center",children:[Object(a.jsx)("span",{className:"mr-2 text-gray-400 text-sm whitespace-nowrap",style:{lineHeight:"1.375rem"},children:t}),r&&Object(a.jsxs)(D,{children:["<"," content ",">"]})]})},H=function(e){var t=e.values;return Object(a.jsxs)("div",{className:"flex items-center whitespace-nowrap",children:[Object(a.jsxs)("span",{className:"mr-2 text-gray-400 text-sm",style:{lineHeight:"1.375rem"},children:["Resurrection: ",Object(R.b)(t.resurrectionTime)]}),Object(a.jsx)(D,{children:"Time currently set for resurrection"})]})},W=function(e){var t=e.type,n=Object(A.a)(e,["type"]);return"main"===t?Object(a.jsx)(M,Object(N.a)({},n)):"subOne"===t?Object(a.jsx)(_,Object(N.a)({},n)):"subTwo"===t?Object(a.jsx)(B,Object(N.a)({},n)):"resurrection"===t?Object(a.jsx)(H,Object(N.a)({},n)):Object(a.jsx)(a.Fragment,{})},V=n.p+"static/media/sarcophagus.305a5839.svg",L=function(){return Object(a.jsxs)(P,{transition:!1,children:[Object(a.jsx)(W,{type:"main",title:T.g.createSarco,icon:V}),Object(a.jsx)("div",{className:"text-md font-normal",children:"Excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga."})]})},U=n(39),K=n(48),G=n(261),q=n(262),z=function(){var e=Object(c.useState)(!1),t=Object(d.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),s=Object(d.a)(a,2),i=s[0],o=s[1],u=Object(c.useState)(!1),l=Object(d.a)(u,2),p=l[0],b=l[1],f=Object(c.useState)(!1),h=Object(d.a)(f,2),g=h[0],y=h[1],O=Object(c.useState)(!1),x=Object(d.a)(O,2),v=x[0],w=x[1],S=Object(c.useState)(!1),T=Object(d.a)(S,2),N=T[0],A=T[1],C=Object(c.useState)(!1),k=Object(d.a)(C,2),E=k[0],P=k[1],R=Object(c.useState)(!1),F=Object(d.a)(R,2),I=F[0],D=F[1];Object(c.useEffect)((function(){if(n)try{var e=new FileReader;e.readAsArrayBuffer(n),e.onload=function(e){var t=e.target.result,n=new Uint8Array(t);y(n)}}catch(t){console.error(t)}}),[n]);var M=Object(c.useCallback)(Object(j.a)(m.a.mark((function e(){var t,n,r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(q.a)(p,!0).slice(1),e.next=4,Object(G.encrypt)(t,g);case 4:n=e.sent,w(n),r=U.utils.keccak256(n),a=U.utils.keccak256(r),D(U.utils.arrayify(a)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),[g,p]);Object(c.useEffect)((function(){g&&p&&M()}),[g,p,M]);var _=Object(c.useCallback)(Object(j.a)(m.a.mark((function e(){var t,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(q.a)(N,!0),e.next=4,Object(G.encrypt)(t,v);case 4:r=e.sent,P(r),o(n.type),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),[v,N,n]);return Object(c.useEffect)((function(){v&&N&&_()}),[v,N,_]),{file:n,fileType:i,setFile:r,setRecipientPublicKey:b,setArchaeologistAddress:A,doubleEncryptedFile:E,assetDoubleHash:I}},J=function(e){var t=Object(c.useState)(!1),n=Object(d.a)(t,2),r=n[0],a=n[1],s=z(),i=s.file,o=s.fileType,u=s.setFile,l=s.setRecipientPublicKey,p=s.setArchaeologistAddress,b=s.doubleEncryptedFile,m=s.assetDoubleHash,j=Object(c.useState)(!1),f=Object(d.a)(j,2),h=f[0],g=f[1];return{file:i,setFile:u,handleArchaeologistSelect:function(e,t){a(t),g(e),p(null===e||void 0===e?void 0:e.currentPublicKey)},selectedArchaeologist:h,handleEmbalming:function(t,n){try{var a=t.bounty,c=t.diggingFee,s=t.recipientPublicKey,i=t.resurrectionTime,u=t.name,l=v.a.from(i/1e3),d=U.utils.parseEther(c.toString()),p=U.utils.parseEther(a.toString()),j=U.utils.arrayify(s).slice(1);e(u,h,l,r,d,p,m,j,b,o,n)}catch(f){console.error(f)}},setRecipientPublicKey:l,handleKey:function(e){l(e)}}},Z={sm:"1.25rem",md:"2.625rem",lg:"2.65rem"},Y="1.625rem",Q={default:"12.75rem"},X="text-md font-medium flex justify-center items-center focus:outline-none",$="text-gray-400 border border-500",ee=function(e){var t=e.label,n=e.isDisabled,r=void 0!==n&&n,c=e._classNames,s=e.errors,i=e.height,o=void 0===i?"md":i,u=e.width,l=void 0===u?"default":u,d=Object(A.a)(e,["label","isDisabled","_classNames","errors","height","width"]);return Object(a.jsx)("button",Object(N.a)(Object(N.a)({className:r?k()(X,$,c):s?k()(X,$,"",c):k()(X,"text-white border border-white",c),style:{height:Z[o],width:Q[l],lineHeight:Y}},d),{},{children:t}))},te=function(){var e=S(),t=e.allowance,n=e.balance,r=e.sarcophagusContract,a=e.sarcophagusTokenContract,s=Object(c.useState)(!1),i=Object(d.a)(s,2),o=i[0],u=i[1],l=Object(c.useCallback)(Object(j.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.approve(null===r||void 0===r?void 0:r.address,v.a.from(2).pow(v.a.from(256)).sub(v.a.from(1)));case 2:t=e.sent,console.log("Tx Receipt ~",t),u(!0);case 5:case"end":return e.stop()}}),e)}))),[null===r||void 0===r?void 0:r.address,a]);return Object(c.useEffect)((function(){t.lt(n)?u(!1):u(!0)}),[l,n,t]),{approved:o,approveTransaction:l}},ne=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(c.useState)(e),r=Object(d.a)(n,2),a=r[0],s=r[1],i=Object(c.useState)(t),o=Object(d.a)(i,2),u=o[0],l=o[1],p=function(){u&&s((function(e){return!e}))},b=function(){a&&!u&&(s(!1),l(!0))};return{collasped:a,toggle:p,open:b}},re=function(e){var t=e.extraPadding,n=e.children;return Object(a.jsx)("div",{className:"relative",children:Object(a.jsx)("div",{className:k()("absolute",t),children:Object(a.jsx)("span",{className:"ml-4 text-xs text-red whitespace-nowrap",children:n})})})},ae=function(e){var t=e.children,n=Object(A.a)(e,["children"]);return Object(a.jsx)("div",Object(N.a)(Object(N.a)({className:"text-gray-400 text-2xs mt-8"},n),{},{children:t}))},ce={sm:"1.25rem",md:"1.88rem",lg:"2.625rem",xl:"6.75rem"},se="w-full pl-4 text-md bg-black font-normal text-white placeholder-text border remove-input-steps focus:outline-none",ie="border border-red",oe=function(e){var t=e.type,n=e.height,r=void 0===n?"md":n,c=e.iPlaceholder,s=void 0===c?"":c,i=(e.error,e.errored),o=Object(A.a)(e,["type","height","iPlaceholder","error","errored"]);return Object(a.jsx)("input",Object(N.a)({type:t,className:i?k()(se,s,ie):k()(se,"border border-gray-500",s),style:{height:ce[r],lineHeight:"1.4357rem"}},o))},ue="w-full p-2 bg-black text-white text-md focus:outline-none border border-gray-500",le=function(e){var t=e.type,n=e.height,r=void 0===n?"md":n,c=(e.error,e.errored),s=Object(A.a)(e,["type","height","error","errored"]);return Object(a.jsx)("textarea",Object(N.a)({type:t,className:c?k()(ue,ie):k()(ue),style:{height:ce[r],lineHeight:"1.4357rem"}},s))},de=function(e){var t=e.type,n=e.value,r=e.children,c=Object(A.a)(e,["type","value","children"]);return Object(a.jsxs)("div",{className:"text-sm",style:{lineHeight:"2.125rem"},children:[Object(a.jsx)("input",Object(N.a)({id:n,type:t},c)),Object(a.jsx)("label",{htmlFor:n,children:r})]})},pe=function(e){var t=e.type,n=void 0===t?"text":t,r=Object(A.a)(e,["type"]);return"text"===n||"number"===n?Object(a.jsx)(oe,Object(N.a)({type:n},r)):"textarea"===n?Object(a.jsx)(le,Object(N.a)({type:n},r)):"radio"===n?Object(a.jsx)(de,Object(N.a)({type:n},r)):Object(a.jsx)(a.Fragment,{})},be=function(e){var t=e.children;return Object(a.jsx)("div",{className:"md:grid md:grid-cols-2 mt-8 md:gap-6",children:t})},me=n.p+"static/media/arrowDown.7f49e23e.svg",je=function(e){var t=e.values,n=e.errors,r=e.touched,c=e.handleChange,s=e.handleKey,i=e.title,o=e.icon,u=e.toggle;return Object(a.jsxs)(P,{children:[Object(a.jsxs)("div",{className:"flex justify-between cursor-pointer",onClick:u,children:[Object(a.jsx)(W,{type:"subOne",title:i,icon:o}),Object(a.jsx)("img",{alt:"",src:me})]}),Object(a.jsxs)(be,{children:[Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"flex",children:[Object(a.jsx)(W,{type:"subTwo",title:"Title"}),n.name&&r.name&&Object(a.jsx)(re,{children:n.name})]}),Object(a.jsx)(pe,{type:"text",height:"lg",placeholder:"",errored:n.name&&r.name,error:n.name,name:"name",value:t.name,onChange:c,maxLength:256})]}),Object(a.jsx)(ae,{style:{marginTop:"1.75rem"},children:"Enter a name for your sarcophagus."})]}),Object(a.jsxs)(be,{children:[Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"flex",children:[Object(a.jsx)(W,{type:"subTwo",title:"Recipient"}),n.recipientPublicKey&&r.recipientPublicKey&&Object(a.jsx)(re,{children:n.recipientPublicKey})]}),Object(a.jsx)(pe,{name:"recipientPublicKey",value:t.recipientPublicKey,errored:n.recipientPublicKey&&r.recipientPublicKey,error:n.recipientPublicKey,onChange:function(e){c(e),s(e.target.value)},type:"textarea",height:"xl",placeholder:"0x........00000"})]}),Object(a.jsxs)(ae,{style:{marginTop:"1.75rem"},children:[Object(a.jsx)("div",{className:"border-b border-gray-400 mb-4",style:{width:"fit-content"},children:"Eth public key"}),Object(a.jsx)("div",{className:"text-gray-400",children:"Helper text here can explain something and have space for a link to learn more"})]})]})]})},fe=n.p+"static/media/arrowRight.9e2056b3.svg",he=function(e){var t=e.icon,n=e.title,r=e.toggle;return Object(a.jsx)(P,{transition:!1,addClass:"cursor-pointer",onClick:r,children:Object(a.jsxs)("div",{className:"flex justify-between",children:[Object(a.jsx)(W,{type:"subOne",title:n,icon:t}),Object(a.jsx)("img",{className:"",alt:"",src:fe})]})})},ge=n.p+"static/media/name.b9f8dcfc.svg",ye=function(e){var t=e.values,n=Object(A.a)(e,["values"]),r=ne(!1,!0),c=r.collasped,s=r.toggle;return c?Object(a.jsx)(he,{title:T.g.nameAndRecipient,icon:ge,toggle:s}):Object(a.jsx)(je,Object(N.a)({values:t,title:T.g.nameAndRecipient,icon:ge,toggle:s},n))},Oe=n.p+"static/media/bxUpload.30358386.svg",xe=n(432),ve=n.p+"static/media/upload.54df37e0.svg",we="border-2 border-dashed border-gray-500",Se="cursor-pointer focus:outline-none",Te="flex flex-col justify-center items-center",Ne="text-white text-md",Ae=function(e){var t=e.handleFile,n=(e.checkfileSize,e.file),r=e.errors,c=Object(A.a)(e,["handleFile","checkfileSize","file","errors"]);return Object(a.jsx)(xe.a,{onDrop:function(e){return t(e[0])},children:function(e){var t=e.getRootProps,s=e.getInputProps;return n?Object(a.jsxs)("div",Object(N.a)(Object(N.a)(Object(N.a)({},t()),{},{className:k()(Se,we,Te,Ne)},c),{},{children:[Object(a.jsx)("input",Object(N.a)(Object(N.a)({},s()),{},{multiple:!1})),Object(a.jsxs)("div",{className:"flex flex-col justify-around items-center text-white overflow-hidden gap-4",children:[Object(a.jsxs)("span",{children:[n.name," uploaded successfully!"]}),Object(a.jsx)("div",{className:"underline",children:"Upload a different file"})]})]})):Object(a.jsxs)("div",Object(N.a)(Object(N.a)(Object(N.a)({},t()),{},{className:r?k()(Se,"border-2 border-dashed border-red",Te,Ne):k()(Se,we,Te,Ne)},c),{},{children:[Object(a.jsx)("input",Object(N.a)(Object(N.a)({},s()),{},{multiple:!1})),Object(a.jsx)("img",{src:ve,alt:"",className:"mb-2"}),Object(a.jsx)("span",{children:"Drag and drop"}),Object(a.jsx)("span",{children:"or"}),Object(a.jsx)("span",{className:"border-b",children:"browse files"})]}))}})},Ce=function(e){var t=e.handleFile,n=e.file,r=e.setFieldValue,s=e.errors,i=e.touched,o=e.icon,u=e.toggle,l=e.title;return Object(c.useEffect)((function(){n&&r("fileUploaded",n)}),[n,r]),Object(a.jsxs)(P,{children:[Object(a.jsxs)("div",{className:"flex justify-between",children:[Object(a.jsx)(W,{type:"subOne",title:l,icon:o}),Object(a.jsx)("img",{alt:"",src:me,onClick:u})]}),Object(a.jsxs)("div",{className:"mt-8",children:[Object(a.jsxs)("div",{className:"flex",children:[Object(a.jsx)(W,{type:"subTwo",title:"Attach File"}),s.fileUploaded&&i.fileUploaded&&Object(a.jsx)(re,{children:s.fileUploaded})]}),Object(a.jsxs)(be,{children:[Object(a.jsx)(Ae,{errors:s.fileUploaded&&i.fileUploaded,handleFile:t,style:{height:"10.625rem"},file:n}),Object(a.jsx)(ae,{children:"Helper text here can explain something and have space for a link to learn more"})]})]})]})},ke=function(e){var t=e.values,n=e.errors,r=Object(A.a)(e,["values","errors"]),s=ne(),i=s.collasped,o=s.toggle,u=s.open;return Object(c.useEffect)((function(){t.name&&t.recipientPublicKey&&(n.name||n.recipientPublicKey||u())}),[u,n,t]),i?Object(a.jsx)(he,{title:T.g.fileUpload,icon:Oe,toggle:o}):Object(a.jsx)(Ce,Object(N.a)({values:t,title:T.g.fileUpload,icon:Oe,toggle:o,errors:n},r))},Ee=n.p+"static/media/clock.f0a78ec3.svg",Pe=n(420),Re=n.n(Pe),Fe=s.a.forwardRef((function(e,t){var n=e.value,r=e.onClick;return Object(a.jsx)(a.Fragment,{children:n?Object(a.jsx)("span",{ref:t,onClick:r,className:"w-full border border-gray-500 bg-black flex justify-center items-center focus:outline-none",children:n}):Object(a.jsx)("button",{ref:t,type:"button",onClick:r,className:"w-full border border-gray-500 bg-black flex justify-center items-center focus:outline-none",style:{height:"1.88rem"},children:"Choose Resurrection Time"})})})),Ie=function(e){return Object(a.jsx)("div",{className:"date-picker-width ml-2",children:Object(a.jsx)(Re.a,Object(N.a)(Object(N.a)({},e),{},{popperClassName:"-mr-10"}))})},De=function(e){var t=e.values,n=e.setFieldValue,r=t.customTime,c=new Date;return c.setDate((new Date).getDate()+1),Object(a.jsx)(Ie,{customInput:Object(a.jsx)(Fe,{}),selected:r?Object(R.c)(r):c,value:r?Object(R.c)(r):"",title:r?Object(R.c)(r):c,onChange:function(e){n("customTime",Object(R.a)(e)),n("resurrectionTime",Object(R.a)(e))},dateFormat:"MM/dd/yyyy hh:mm",minDate:c,showTimeSelect:!0})},Me=function(e){var t=e.errors,n=e.touched,r=e.values,c=e.setFieldValue;return Object(a.jsx)("div",{className:"flex gap-8",children:Object(a.jsx)("div",{className:t.resurrectionTime&&n.resurrectionTime?"border border-red pl-8 py-4":"border border-gray-500 px-8 py-4",style:{height:"15.25rem",width:"28rem"},children:Object(a.jsxs)("div",{className:"flex flex-col justify-around h-full text-gray-400 radio-styles",children:[Object(a.jsx)(W,{type:"resurrection",values:r}),Object(a.jsx)(pe,{type:"radio",name:"timeSelect",onChange:function(){c("timeSelect","week"),c("resurrectionTime",T.j)},checked:"week"===r.timeSelect,value:T.j,children:"1 week"}),Object(a.jsx)(pe,{type:"radio",name:"timeSelect",onChange:function(){c("timeSelect","month"),c("resurrectionTime",T.h)},checked:"month"===r.timeSelect,value:T.h,children:"1 month"}),Object(a.jsx)(pe,{type:"radio",name:"timeSelect",onChange:function(){c("timeSelect","threeMonth"),c("resurrectionTime",T.i)},checked:"threeMonth"===r.timeSelect,value:T.i,children:"3 months"}),Object(a.jsx)(pe,{type:"radio",name:"timeSelect",onChange:function(){return null},onClick:function(){c("timeSelect","custom"),c("resurrectionTime",r.customTime)},checked:"custom"===r.timeSelect,value:Object(R.b)(r.resurrectionTime),custom:"custom",children:Object(a.jsx)(De,{values:r,setFieldValue:c})})]})})})},_e=function(e){var t=e.values,n=e.errors,r=e.touched,c=e.setFieldValue,s=e.title,i=e.icon,o=e.toggle;return Object(a.jsxs)(P,{children:[Object(a.jsxs)("div",{className:"flex justify-between",children:[Object(a.jsxs)("div",{className:"flex",children:[Object(a.jsx)(W,{type:"subOne",title:s,icon:i}),n.resurrectionTime&&r.resurrectionTime&&Object(a.jsx)(re,{children:n.resurrectionTime})]}),Object(a.jsx)("img",{alt:"",src:me,onClick:o})]}),Object(a.jsxs)(be,{children:[Object(a.jsx)(Me,{errors:n,touched:r,setFieldValue:c,values:t}),Object(a.jsx)(ae,{children:"Set your resurrection time. Helper text here can explain something and have space for a link to learn more"})]})]})},Be=function(e){var t=e.values,n=e.errors,r=Object(A.a)(e,["values","errors"]),s=ne(),i=s.collasped,o=s.toggle,u=s.open;return Object(c.useEffect)((function(){t.fileUploaded&&(n.fileUploaded||u())}),[u,n,t]),i?Object(a.jsx)(he,{title:T.g.resurrectionTime,icon:Ee,toggle:o}):Object(a.jsx)(_e,Object(N.a)({values:t,errors:n,title:T.g.resurrectionTime,icon:Ee,toggle:o},r))},He=n.p+"static/media/pickaxe.c916382b.svg",We=function(e){var t=e.values,n=e.handleChange,r=e.errors,c=e.touched,s=e.margin,i=void 0===s?"my-8":s;return Object(a.jsx)("div",{className:"flex w-full bg-gray-600 py-8 px-12 ".concat(i," border border-gray-500"),children:Object(a.jsxs)("div",{className:"flex justify-between",children:[Object(a.jsxs)("div",{className:"flex flex-col mr-24",style:{width:"6.875rem"},children:[Object(a.jsxs)("div",{className:"flex",children:[Object(a.jsx)(W,{type:"subTwo",title:"Bounty \u2739",showToolTip:!0}),r.bounty&&c.bounty&&Object(a.jsx)(re,{children:r.bounty})]}),Object(a.jsx)(pe,{type:"number",height:"lg",iPlaceholder:"input-placeholder",errored:r.bounty&&c.bounty,error:r.bounty,placeholder:"100",name:"bounty",value:t.bounty||"",onChange:n})]}),Object(a.jsxs)("div",{className:"flex flex-col",style:{width:"6.875rem"},children:[Object(a.jsxs)("div",{className:"flex",children:[Object(a.jsx)(W,{type:"subTwo",title:"Digging Fees \u2739",showToolTip:!0}),r.diggingFee&&c.diggingFee&&Object(a.jsx)(re,{extraPadding:"ml-3",children:r.diggingFee})]}),Object(a.jsx)(pe,{type:"number",height:"lg",iPlaceholder:"input-placeholder",errored:r.diggingFee&&c.diggingFee,error:r.diggingFee,placeholder:"10",name:"diggingFee",value:t.diggingFee||"",onChange:n})]})]})})},Ve={display:"grid",gridTemplateColumns:"12.5rem 1fr 1fr 1fr 1fr",columnGap:"1rem",width:"50rem"},Le=function(e){var t=e.headerOne,n=e.headerTwo,r=e.headerThree,c=e.headerFour,s=e.headerFive;return Object(a.jsxs)("div",{className:"text-md text-gray-400 mb-4",style:Ve,children:[Object(a.jsx)("div",{className:"ml-6",children:t}),Object(a.jsxs)("div",{className:"flex items-center",children:[Object(a.jsx)("span",{className:"mr-2",children:n}),Object(a.jsx)(D,{children:"< content >"})]}),Object(a.jsxs)("div",{className:"flex items-center",children:[Object(a.jsx)("span",{className:"mr-2",children:c}),Object(a.jsx)(D,{children:"< content >"})]}),Object(a.jsxs)("div",{className:"flex items-center -ml-4",children:[Object(a.jsx)("span",{className:"mr-2",children:r}),Object(a.jsx)(D,{children:"< content >"})]}),Object(a.jsx)("div",{className:"",children:s})]})},Ue=function(e){var t=e.page,n=e.totalPages,r=e.handleNextPage,c=e.handlePrevPage,s=e.pageNumbers,i=e.goToPage;return Object(a.jsx)("div",{className:"flex flex-col items-end absolute bottom-0 right-0 -mb-4",children:Object(a.jsxs)("div",{className:"text-md",style:{lineHeight:"1.325rem"},children:[Object(a.jsx)("button",{type:"button",onClick:function(){return c()},className:0===t?"text-gray-500 focus:outline-none cursor-default":"text-white focus:outline-none",children:"<"}),s.map((function(e){return Object(a.jsx)("button",{type:"button",disabled:0===n,onClick:function(){return i(e)},className:t===e?"px-2 text-white focus:outline-none text-lg font-bold cursor-default":"px-2 text-white focus:outline-none",children:e+1},e)})),Object(a.jsx)("button",{type:"button",onClick:function(){return r()},className:t>=n?"text-gray-500 focus:outline-none cursor-default":"text-white focus:outline-none",children:">"})]})})},Ke=n(95),Ge=n(34),qe=n.p+"static/media/icon.081a5d9a.svg",ze=n.p+"static/media/iconBlack.2abba048.svg",Je=n.p+"static/media/arrowRightBlack.e7140ec6.svg",Ze="pl-6 text-md",Ye="border border-gray-500 text-white bg-gray-600",Qe="border border-white text-black bg-white",Xe="border border-gray-500 text-gray-400",$e={display:"grid",gridTemplateColumns:"11rem 1fr 1fr 1fr 1fr",columnGap:"1rem",height:"4.375rem",alignItems:"center",width:"50rem"},et=function(e){var t=e.archaeologist,n=e.file,r=(e.gtSign,e.bounty),s=e.diggingFee,i=e.selected,o=e.handleSelected,u=e.setFieldValue,l=Object(c.useState)(!0),p=Object(d.a)(l,2),b=p[0],m=p[1],j=ne(!0,!0),f=j.collasped,h=j.toggle;Object(c.useEffect)((function(){if(r&&s){var e=t.minimumBounty.lte(U.utils.parseEther(r.toString())),a=t.minimumDiggingFee.lte(U.utils.parseEther(s.toString()));m(!(e&&a&&n))}}),[r,s,t,n]),Object(c.useEffect)((function(){i===t.paymentAddress&&b&&o(!1,!1)}),[t,i,b,o]);var g=function(){b||(u("address",t.paymentAddress),o(t,Object(Ge.c)(t,n,!0)))};return f?Object(a.jsxs)("div",{onClick:g,className:b?k()(Ze,Xe):i===t.paymentAddress?k()(Ze,Qe):k()(Ze,Ye),style:$e,children:[Object(a.jsx)("div",{className:"",children:Object(Ke.b)(t.paymentAddress,10,null)}),Object(a.jsxs)("div",{className:"",children:[n&&Object(a.jsx)("img",{src:i===t.paymentAddress?ze:qe,alt:"",className:"inline-block w-4 h-auto mr-2"}),Object(Ge.c)(t,n)]}),Object(a.jsxs)("div",{className:"flex items-center",children:[Object(a.jsx)("img",{src:i===t.paymentAddress?ze:qe,alt:"",className:"inline-block w-4 h-auto mr-2"}),Object(Ge.b)(t.minimumBounty)]}),Object(a.jsxs)("div",{className:"-ml-4 flex items-center",children:[Object(a.jsx)("img",{src:i===t.paymentAddress?ze:qe,alt:"",className:"inline-block w-4 h-auto mr-2"}),Object(Ge.b)(t.minimumDiggingFee)]}),Object(a.jsxs)("div",{className:"flex items-center cursor-pointer",onClick:function(e){e.stopPropagation(),h()},children:[Object(a.jsx)("img",{alt:"",src:i===t.paymentAddress?Je:fe,className:"mr-2"}),Object(a.jsx)("u",{children:"Metrics"})]})]}):Object(a.jsxs)("div",{className:b?k()(Xe):k()(Ye),style:{width:"50rem"},children:[Object(a.jsxs)("div",{onClick:g,className:b?k()(Ze,Xe):i===t.paymentAddress?k()(Ze,Qe):k()(Ze,Ye),style:$e,children:[Object(a.jsx)("div",{className:"",children:Object(Ke.b)(t.paymentAddress,10,null)}),Object(a.jsxs)("div",{className:"",children:[n&&Object(a.jsx)("img",{src:i===t.paymentAddress?ze:qe,alt:"",className:"inline-block w-4 h-auto mr-2"}),Object(Ge.c)(t,n)]}),Object(a.jsxs)("div",{className:"flex items-center",children:[Object(a.jsx)("img",{src:i===t.paymentAddress?ze:qe,alt:"",className:"inline-block w-4 h-auto mr-2"}),Object(Ge.b)(t.minimumBounty)]}),Object(a.jsxs)("div",{className:"-ml-4 flex items-center",children:[Object(a.jsx)("img",{src:i===t.paymentAddress?ze:qe,alt:"",className:"inline-block w-4 h-auto mr-2"}),Object(Ge.b)(t.minimumDiggingFee)]}),Object(a.jsxs)("div",{className:"flex items-center cursor-pointer",onClick:function(e){e.stopPropagation(),h()},children:[Object(a.jsx)("img",{alt:"",src:i===t.paymentAddress?Je:fe,className:"mr-2"}),Object(a.jsx)("u",{children:"Metrics"})]})]}),Object(a.jsxs)("div",{className:"border-t border-gray-500 py-4 px-8 w-full",children:[Object(a.jsxs)("div",{className:"flex mb-4",children:[Object(a.jsx)("span",{className:"text-gray-400 mr-2",children:"Arch "}),Object(a.jsx)("span",{children:t.paymentAddress})]}),Object(a.jsxs)("div",{className:"grid grid-cols-2 text-sm",children:[Object(a.jsxs)("div",{className:"",children:[Object(a.jsxs)("div",{className:"flex",children:[Object(a.jsx)("span",{className:"text-gray-400 mr-2",children:"Early Resurrections: "}),Object(a.jsx)("span",{className:"text-white"})]}),Object(a.jsxs)("div",{className:"flex",children:[Object(a.jsx)("span",{className:"text-gray-400 mr-2",children:"Late | Missed Resurrections: "}),Object(a.jsx)("span",{className:"text-white"})]}),Object(a.jsxs)("div",{className:"flex",children:[Object(a.jsx)("span",{className:"text-gray-400 mr-2",children:"Malacious Volume:"}),Object(a.jsx)("span",{className:"text-white"})]}),Object(a.jsxs)("div",{className:"flex",children:[Object(a.jsx)("span",{className:"text-gray-400 mr-2",children:"Bounded "}),Object(a.jsx)("span",{className:"text-white"})]}),Object(a.jsxs)("div",{className:"flex",children:[Object(a.jsx)("span",{className:"text-gray-400 mr-2",children:"Percent Cursed:"}),Object(a.jsxs)("span",{className:"text-white",children:[Object(Ge.a)(t.cursedBond,t.freeBond),"%"]})]}),Object(a.jsxs)("div",{className:"flex whitespace-nowrap",children:[Object(a.jsx)("span",{className:"text-gray-400 mr-2",children:"Max Resurrection Time:"}),Object(a.jsx)("span",{className:"text-white",children:Object(R.d)(t.maximumResurrectionTime)})]}),Object(a.jsxs)("div",{className:"flex",children:[Object(a.jsx)("span",{className:"text-gray-400 mr-2",children:"First Curse"}),Object(a.jsx)("span",{className:"text-white"})]})]}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"flex",children:[Object(a.jsx)("span",{className:"text-gray-400 mr-2",children:"Min Digging Fee:"}),Object(a.jsx)("span",{className:"text-white",children:Object(Ge.b)(t.minimumDiggingFee,18)})]}),Object(a.jsxs)("div",{className:"flex",children:[Object(a.jsx)("span",{className:"text-gray-400 mr-2",children:"Min Bounty:"}),Object(a.jsx)("span",{className:"text-white",children:Object(Ge.b)(t.minimumBounty,18)})]}),Object(a.jsxs)("div",{className:"flex",children:[Object(a.jsx)("span",{className:"text-gray-400 mr-2",children:"Fee per byte:"}),Object(a.jsx)("span",{className:"text-white",children:Object(Ge.b)(t.feePerByte,18)})]}),Object(a.jsxs)("div",{className:"flex",children:[Object(a.jsx)("span",{className:"text-gray-400 mr-2",children:"Total Storage Fee"}),Object(a.jsx)("span",{className:"text-white",children:Object(Ge.c)(t,n)})]})]})]})]})]})},tt=function(e){var t=Object(c.useState)(0),n=Object(d.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(0),i=Object(d.a)(s,2),o=i[0],u=i[1],l=Object(c.useState)([]),p=Object(d.a)(l,2),b=p[0],m=p[1];Object(c.useEffect)((function(){u(Math.floor(e/5))}),[e]),Object(c.useEffect)((function(){for(var e=[],t=0;t<=o;t++)e.push(t);m(e)}),[o]);return{page:r,perPage:5,totalPages:o,handlePrevPage:function(){0!==r&&a((function(e){return e-1}))},handleNextPage:function(){r>=o||a((function(e){return e+1}))},pageNumbers:b,goToPage:function(e){a(e)}}},nt=function(e,t,n,r){var a=Object(c.useState)([]),s=Object(d.a)(a,2),i=s[0],o=s[1],u=tt(e.length),l=u.page,p=u.perPage,b=u.totalPages,m=u.handlePrevPage,j=u.handleNextPage,f=u.goToPage,h=u.pageNumbers;return Object(c.useEffect)((function(){Array.isArray(e)&&e.length&&o(e.filter((function(e,t){return t>=l*p&&t<=(l+1)*p-1})))}),[e,l,p]),Object(c.useEffect)((function(){n&&r&&t&&o(e.sort((function(e,n){return Object(Ge.c)(n,t)-Object(Ge.c)(e,t)})).sort((function(e,t){return e.minimumBounty.lte(U.utils.parseEther(n.toString()))&&e.minimumDiggingFee.lte(U.utils.parseEther(r.toString()))?-1:t.minimumBounty.lte(U.utils.parseEther(n.toString()))&&t.minimumDiggingFee.lte(U.utils.parseEther(r.toString()))?1:0})).filter((function(e,t){return t>=l*p&&t<=(l+1)*p-1})))}),[n,r,t,l,p,e]),{filteredList:i,page:l,totalPages:b,handlePrevPage:m,handleNextPage:j,goToPage:f,pageNumbers:h}},rt=function(e){var t=e.archaeologists,n=e.handleSelected,r=e.archSelected,c=e.file,s=e.values,i=e.handleChange,o=e.setFieldValue,u=e.errors,l=e.touched,d=e.toggle,p=e.icon,b=e.title,m=s.bounty,j=s.diggingFee,f=nt(t,c,m,j),h=f.filteredList,g=f.page,y=f.totalPages,O=f.handlePrevPage,x=f.handleNextPage,v=f.goToPage,w=f.pageNumbers;return Object(a.jsx)(P,{children:Object(a.jsxs)("div",{className:"relative pb-4 ease-in-transition",children:[Object(a.jsxs)("div",{className:"flex justify-between",children:[Object(a.jsx)(W,{type:"subOne",title:b,icon:p}),Object(a.jsx)("img",{alt:"",src:me,onClick:d})]}),Object(a.jsx)(We,{values:s,handleChange:i,errors:u,touched:l}),Object(a.jsxs)("div",{className:"hide-scrollbar overflow-x-scroll w-full whitespace-nowrap",children:[Object(a.jsx)(Le,{headerOne:"Archaeologists (".concat(t.length,")"),headerTwo:"Fee",headerThree:"Digging Fee",headerFour:"Bounty",headerFive:"Metrics"}),h.map((function(e,t){return Object(a.jsx)(et,{setFieldValue:o,selected:r,handleSelected:n,archaeologist:e,file:c,bounty:m,diggingFee:j,gtSign:">"},"".concat(t).concat(e.paymentAddress))}))]}),t.length>0&&Object(a.jsx)(Ue,{page:g,totalPages:y,handlePrevPage:O,handleNextPage:x,pageNumbers:w,goToPage:v})]})})},at=function(e){var t=e.values,n=e.errors,r=Object(A.a)(e,["values","errors"]),s=ne(),i=s.collasped,o=s.toggle,u=s.open;return Object(c.useEffect)((function(){t.resurrectionTime&&(n.resurrectionTime||u())}),[u,n,t]),i?Object(a.jsx)(he,{title:T.g.pickArchaeologist,icon:He,toggle:o}):Object(a.jsx)(rt,Object(N.a)({values:t,errors:n,title:T.g.pickArchaeologist,icon:He,toggle:o},r))},ct=function(){var e=Object(l.g)(),t=S(),n=t.archaeologists,r=t.createSarcophagus,s=te(),i=s.approved,o=s.approveTransaction,u=J(r),b=u.file,m=u.setFile,j=u.handleArchaeologistSelect,f=u.handleEmbalming,h=u.selectedArchaeologist,g=u.handleKey,y=Object(c.useState)(""),O=Object(d.a)(y,2),x=O[0],v=O[1];Object(c.useEffect)((function(){v(i?"Finish":"Approve")}),[i]);return Object(a.jsx)(p.a,{initialValues:{recipientPublicKey:"0x0459b159955bb46d90b9d4905c5589ab0694a593ae2e82627d6658a363ae97db0bdcf8275ea45cb8cbd21a249a3fe1c15d8523d166fb74dc6773bc5c02ef329342",name:"",resurrectionTime:"",bounty:0,diggingFee:0,custom:!1,customTime:"",fileUploaded:!1,address:"",daysDisplayed:0},validationSchema:K.d().shape({recipientPublicKey:K.e().test("required","Recipient Address is required",(function(e){return!!e})).test("validDataHextString","Please enter a valid public key",(function(e){return U.utils.isHexString(e,65)})),name:K.e().required("Name is required"),resurrectionTime:K.c().required("Resurrection time is required"),bounty:K.c().required("Bounty is required"),diggingFee:K.c().required("Digging Fee is required"),customTime:K.c().when("custom",{is:!0,then:K.c().required("Resurrection time is required")}),custom:K.a(),fileUploaded:K.b().test("required","Please upload a file",(function(e){return!!e})).test("filesize","Files must not be larger than 2.9MB",(function(e){return!e||e.size<=2999800})),address:K.e().required("Please select an archaeologist")}).nullable(),onSubmit:function(t){f(t,e)},validateOnMount:!0,children:function(e){var t=e.values,r=e.errors,c=e.touched,s=e.handleChange,u=(e.handleBlur,e.handleSubmit),l=e.setFieldValue,d=e.validateForm,p=e.isValid;return Object(a.jsxs)("form",{className:"ml-8 px-14",onSubmit:u,children:[Object(a.jsx)(L,{}),Object(a.jsx)(ye,{values:t,errors:r,touched:c,handleChange:s,handleKey:g}),Object(a.jsx)(ke,{values:t,file:b,handleFile:m,errors:r,touched:c,setFieldValue:l}),Object(a.jsx)(Be,{values:t,errors:r,touched:c,handleChange:s,setFieldValue:l}),Object(a.jsx)(at,{errors:r,touched:c,archaeologists:n,file:b,values:t,handleChange:s,handleEmbalming:f,handleSelected:j,archSelected:(null===h||void 0===h?void 0:h.paymentAddress)||"",setFieldValue:l}),Object(a.jsx)(ee,{label:x,isDisabled:!p,_classNames:"my-8",height:"lg",type:i?"submit":"button",onClick:i?function(){return d()}:function(){d(),function(e){Object.keys(e).length||o()}(r)}})]})}})},st=n.p+"static/media/tomb.a63833ca.svg",it=function(e){var t=e.embalmerCount,n=e.recipientCount,r=e.overCount,c=Object(l.h)();return Object(a.jsxs)("div",{className:"flex justify-between",children:[Object(a.jsxs)(u.b,{activeClassName:"border-b-2 border-white",className:"flex px-2 pb-4 cursor-pointer",to:"".concat(c.path),exact:!0,children:[Object(a.jsx)(W,{type:"subOne",title:"Sarcophagi (".concat(t||0,")")}),Object(a.jsxs)(D,{children:[Object(a.jsx)("div",{children:"Active sarcophagi"}),Object(a.jsx)("div",{children:"Current status and resurrection time will be displayed"})]})]}),Object(a.jsxs)(u.b,{activeClassName:"border-b-2 border-white",className:"flex px-2 pb-4 cursor-pointer",to:"".concat(c.path,"/received"),children:[Object(a.jsx)(W,{type:"subOne",title:"Received: (".concat(n||0,")")}),Object(a.jsxs)(D,{children:[Object(a.jsx)("div",{children:"Received Sarcophagi"}),Object(a.jsx)("div",{children:"Click to view received sarcophagi details"})]})]}),Object(a.jsxs)(u.b,{activeClassName:"border-b-2 border-white",className:"flex px-2 pb-4 cursor-pointer",to:"".concat(c.path,"/over"),children:[Object(a.jsx)(W,{type:"subOne",title:"Over: (".concat(r||0,")")}),Object(a.jsxs)(D,{children:[Object(a.jsx)("div",{children:"Inactive sarcophagi"}),Object(a.jsx)("div",{children:"Click to view previous sarcophagi details"})]})]})]})},ot=n(423),ut=function(e){var t=e.timer,n=e.color,r=void 0===n?"text-gray-400":n,c=e.timers;return Object(a.jsxs)("div",{className:"text-sm ".concat(c?r:"text-red"),style:{lineHeight:"1.0625rem"},children:["Resurrection: ",t]})},lt=n.p+"static/media/error.bd7ee411.svg",dt="ml-3 mt-1 py-1 px-2 text-gray-900 text-2xs rounded self-end",pt=function(e){var t=e.status,n=e.error;return Object(a.jsx)("div",{children:n||t})},bt=function(e){var t=e.status,n=e.error,r=e.isActive,c=void 0!==r&&r,s=e.isOver,i=void 0!==s&&s;return Object(a.jsx)(F.a,{content:Object(a.jsx)(pt,{status:t,error:n}),className:"border-2 border-white rounded text-center text-xs font-normal p-2 bg-gray-900",children:Object(a.jsx)("div",{className:n?k()(dt,"bg-red"):c?k()(dt,"bg-green"):i?k()(dt,"bg-gray-300"):k()(dt,"bg-yellow"),style:{width:"fit-content"},children:n?Object(a.jsxs)("div",{className:"flex items-center",children:[Object(a.jsx)("img",{alt:"",src:lt,className:"mr-2"}),Object(a.jsx)("div",{className:"leading-4",children:"Error"})]}):c?"Active":i?"Over":"Pending"})})},mt="text-white text-md flex justify-between relative cursor-default",jt=function(e){var t=e.sarcophagus,n=e.currentStatus,r=e.error,c=e.toggle,s=e.expandedOption,i=void 0!==s&&s,o=e.timer,u=e.color,l=e.timers;return Object(a.jsxs)("div",{className:i?k()(mt,"cursor-pointer"):k()(mt),onClick:i?function(){return c()}:function(){return null},style:{height:"4.375rem",maxWidth:"34.4375rem"},children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"text-base font-bold text-white",style:{lineHeight:"1.625rem"},children:t.name}),Object(a.jsx)(ut,{timer:o,color:u,timers:l})]}),Object(a.jsxs)("div",{className:"flex flex-col",children:[i&&Object(a.jsxs)("div",{className:"flex cursor-pointer",children:[Object(a.jsx)("img",{alt:"",src:fe,className:"mr-2"}),Object(a.jsx)("span",{children:r||n===T.e.WINDOW_CLOSED?"Details":n===T.e.PROCESS_COMPLETE?"Rewrap":n===T.e.SARCOPHAGUS_AWAIT_SIGN?T.e.SARCOPHAGUS_AWAIT_SIGN:""})]}),Object(a.jsx)(bt,{status:n,error:!!r||n===T.e.WINDOW_CLOSED,isActive:n===T.e.PROCESS_COMPLETE})]})]})},ft=function(e){return K.d().shape({resurrectionTime:K.c().required("Resurrection time is required"),bounty:K.c().min(Object(Ge.b)(e.minimumBounty,18),"Bounty is too low").required("Bounty is required"),diggingFee:K.c().min(Object(Ge.b)(e.minimumDiggingFee,18),"Digging Fee is too low").required("Digging Fee is required"),customTime:K.c().when("custom",{is:!0,then:K.c().required("Resurrection time is required")}),custom:K.a()}).nullable()},ht=function(e){return{resurrectionTime:"",bounty:Object(Ge.b)(e.minimumBounty,18),diggingFee:Object(Ge.b)(e.minimumDiggingFee,18),custom:!1,customTime:""}},gt=function(e){var t=e.sarcophagus,n=e.archaeologist,r=e.setCurrentStatus,s=e.toggle,i=e.refresh,o=S(),u=o.burySarcophagus,l=o.rewrapSarcophagus,b=te(),f=b.approved,h=b.approveTransaction,g=Object(c.useState)(""),y=Object(d.a)(g,2),O=y[0],x=y[1];Object(c.useEffect)((function(){x(f?"Rewrap Sarcophagus":"Approve")}),[f]);var v=function(){var e=Object(j.a)(m.a.mark((function e(n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t,n);case 2:return e.next=4,r(T.e.REWRAP_IN_PROGRESS);case 4:return e.next=6,i();case 6:return e.next=8,s();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(j.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t);case 2:return e.next=4,r("Burying");case 4:return e.next=6,i();case 6:return e.next=8,s();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)(p.a,{initialValues:ht(n),validationSchema:ft(n),onSubmit:v,validateOnMount:!0,children:function(e){var t=e.values,n=e.errors,r=e.touched,c=e.handleChange,s=(e.handleBlur,e.handleSubmit),i=e.setFieldValue,o=e.validateForm,u=e.isValid;return Object(a.jsxs)("form",{onSubmit:s,className:"pb-8 px-10",children:[Object(a.jsxs)("div",{className:"flex items-center",children:[Object(a.jsx)(W,{type:"subOne",title:"Fees"}),Object(a.jsx)(D,{children:Object(a.jsx)("div",{children:"These fees are based on current minimum fees provided by archaeologist"})}),n.bounty&&r.bounty&&Object(a.jsx)(re,{children:n.bounty}),n.diggingFee&&r.diggingFee&&Object(a.jsx)(re,{children:n.diggingFee})]}),Object(a.jsx)(We,{values:t,handleChange:c,errors:n,touched:r,margin:"my-4"}),Object(a.jsxs)("div",{className:"flex mb-4 items-center",children:[Object(a.jsx)(W,{type:"subOne",title:"Choose new resurrection time"}),Object(a.jsxs)(D,{children:[Object(a.jsx)("div",{children:"Choose a resurrection time by selecting an options below"}),Object(a.jsx)("div",{children:"1 Week: 7 days from today"}),Object(a.jsx)("div",{children:"1 month: 30 days from today"}),Object(a.jsx)("div",{children:"3 months: 90 days from today"})]}),n.resurrectionTime&&r.resurrectionTime&&Object(a.jsx)(re,{children:n.resurrectionTime})]}),Object(a.jsx)(Me,{errors:n,touched:r,setFieldValue:i,values:t}),Object(a.jsxs)("div",{className:"flex flex-col justify-center items-center mt-8 mb-12",children:[Object(a.jsx)(ee,{label:O,isDisabled:!u,type:f?"submit":"button",onClick:f?function(){return null}:function(){o(),function(e){Object.keys(e).length||h()}(n)}}),Object(a.jsxs)("div",{className:"whitespace-nowrap flex absolute bottom-8 underline justify-center items-center",onClick:w,children:[Object(a.jsx)("span",{className:"mr-2 cursor-pointer",children:"Bury sarcophagus"}),Object(a.jsx)(D,{children:"< Content >"})]})]})]})}})},yt=function(e){var t=e.sarcophagus,n=e.setCurrentStatus,r=e.refresh,c=e.toggle,s=S(),i=s.updateSarcophagus,o=s.cancelSarcophagus,u=function(){var e=Object(j.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t,n);case 2:return e.next=4,c();case 4:return e.next=6,r();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(j.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(t);case 2:return e.next=4,c();case 4:return e.next=6,r();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"flex flex-col items-center justify-center h-full relative",style:{height:"12.0625rem"},children:[Object(a.jsx)(ee,{type:"button",onClick:u,label:"Sign"}),Object(a.jsxs)("div",{className:"whitespace-nowrap flex absolute bottom-8 underline cursor-pointer",onClick:l,children:[Object(a.jsx)("span",{className:"mr-2",children:"Cancel this sarcophagus"}),Object(a.jsx)(D,{children:"< Content >"})]})]})},Ot=function(e){var t=e.sarcophagus,n=e.refresh,r=e.toggle,c=S().cancelSarcophagus,s=function(){var e=Object(j.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t);case 2:return e.next=4,r();case 4:return e.next=6,n();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"flex flex-col items-center justify-center h-full relative gap-8",style:{height:"12.0625rem"},children:Object(a.jsxs)("div",{className:"whitespace-nowrap flex underline cursor-pointer",onClick:s,children:[Object(a.jsx)("span",{className:"mr-2",children:"Cancel this sarcophagus"}),Object(a.jsx)(D,{children:"< Content >"})]})})},xt=function(e){var t=e.sarcophagus,n=e.toggle,r=e.refresh,c=S(),s=c.cancelSarcophagus,i=c.cleanSarcophagus,o=function(){var e=Object(j.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(t),e.next=3,n();case 3:return e.next=5,r();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(j.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(t),e.next=3,n();case 3:return e.next=5,r();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"flex flex-col items-center justify-center h-full relative gap-8",style:{height:"12.0625rem"},children:[Object(a.jsxs)("div",{className:"whitespace-nowrap flex underline cursor-pointer",onClick:u,children:[Object(a.jsx)("span",{className:"mr-2",children:"Clean this sarcophagus"}),Object(a.jsx)(D,{children:"< Content >"})]}),Object(a.jsxs)("div",{className:"whitespace-nowrap flex underline cursor-pointer",onClick:o,children:[Object(a.jsx)("span",{className:"mr-2",children:"Cancel this sarcophagus"}),Object(a.jsx)(D,{children:"< Content >"})]})]})},vt=function(e){var t=e.sarcophagus,n=e.archaeologist,r=e.currentStatus,c=e.error,s=e.setCurrentStatus,i=e.toggle,o=e.refresh;return Object(a.jsxs)("div",{className:"text-white text-md relative flex flex-col",style:{maxWidth:"34.4375rem"},children:[c&&Object(a.jsx)(Ot,{sarcophagus:t,refresh:o,toggle:i}),r===T.e.WINDOW_CLOSED&&Object(a.jsx)(xt,{sarcophagus:t,refresh:o,toggle:i}),r===T.e.SARCOPHAGUS_AWAIT_SIGN&&Object(a.jsx)(yt,{sarcophagus:t,setCurrentStatus:s,refresh:o,toggle:i}),r===T.e.PROCESS_COMPLETE&&!!n&&Object(a.jsx)(gt,{sarcophagus:t,archaeologist:n,setCurrentStatus:s,toggle:i,refresh:o})]})},wt=function(e){var t=e.sarcophagus,n=e.currentStatus,r=e.setCurrentStatus,s=e.error,i=e.archaeologist,o=e.refresh,u=function(e,t,n){var r=Object(c.useState)(!1),a=Object(d.a)(r,2),s=a[0],i=a[1],o=Object(c.useState)(T.f),u=Object(d.a)(o,2),l=u[0],p=u[1],b=Object(c.useState)(!0),m=Object(d.a)(b,2),j=m[0],f=m[1],h=Object(c.useState)(T.a),g=Object(d.a)(h,2),y=g[0],O=g[1],x=Object(c.useCallback)((function(e){var t=e.getTimezoneOffset();e.setMinutes(e.getMinutes()+t);var n=e-Date.parse(new Date),r=Math.floor(n/864e5);return O(s?"text-yellow":1===r?"text-red":"text-gray-400")}),[O,s]);return Object(c.useEffect)((function(){if(n!==T.e.REWRAP_IN_PROGRESS){if(!s){var t=1e3*Object(Ge.d)(e,0).value(),r=setInterval((function(){if(Math.sign(t-Date.now().valueOf()<=0))return i(!0),clearInterval(r);var e=new Date(t),n=Object(R.e)(e);p(n),x(e)}),1e3);return function(){return clearInterval(r)}}}else p(T.f)}),[e,j,x,s,n]),Object(c.useEffect)((function(){if(s){var n=1e3*Object(Ge.d)(e,0).value(),r=1e3*Object(Ge.d)(t,0).value(),a=setInterval((function(){if(Math.sign(n+r-Date.now().valueOf()<=0))return p(T.f),O("text-red"),f(!1),clearInterval(a);var e=new Date(n+r),t=Object(R.e)(e);p(t),x(e)}),1e3);return function(){return clearInterval(a)}}}),[t,s,x,e]),{timer:l,color:y,timers:j}}(t.resurrectionTime,t.resurrectionWindow,n),l=u.timer,p=u.color,b=u.timers,m=ne(!0,!0),j=m.collasped,f=m.toggle;return Object(a.jsxs)("div",{className:"border border-gray-500 px-4 my-8 pt-3 ",children:[Object(a.jsx)(jt,{sarcophagus:t,currentStatus:n,error:s,expandedOption:n===T.e.SARCOPHAGUS_AWAIT_SIGN||n===T.e.PROCESS_COMPLETE||!!s||!b,toggle:f,timer:l,color:p,timers:b}),!j&&Object(a.jsx)(vt,{sarcophagus:t,currentStatus:n,refresh:o,setCurrentStatus:r,error:s,toggle:f,archaeologist:i,timer:l,color:p,timers:b})]})},St=function(e){var t=e.sarcophagus,n=e.refresh,r=Object(A.a)(e,["sarcophagus","refresh"]),s=Object(ot.a)(t.AssetDoubleHash,t,n),i=s.currentStatus,o=s.setCurrentStatus,u=s.error,l=S().archaeologists,p=Object(c.useState)({}),b=Object(d.a)(p,2),m=b[0],j=b[1];return Object(c.useEffect)((function(){var e=null===l||void 0===l?void 0:l.filter((function(e){return e.paymentAddress===t.archaeologist}));j(e[0])}),[l,t]),Object(a.jsx)(wt,Object(N.a)({sarcophagus:t,currentStatus:i,setCurrentStatus:o,error:u,archaeologist:m,refresh:n},r))},Tt=n(1),Nt=Tt.useEffect,At=Tt.useState,Ct=function(e){var t=At(T.e.CHECKING_STATUS),n=Object(d.a)(t,2),r=n[0],a=n[1],c=At(!1),s=Object(d.a)(c,2),i=s[0],o=s[1];return Nt((function(){2===e.state?a("Resurrection available"):(null===e||void 0===e?void 0:e.assetId)?(null===e||void 0===e?void 0:e.assetId)?a("Sarcophagus Active, resurrection available"):o("There was an error checking state"):a("Sarcophagus creation in progress, resurrection unavailable")}),[e]),{currentStatus:r,error:i}},kt=function(e){var t=e.sarcophagus,n=e.error,r=e.toggle,c=e.status,s=e.expandedOption,i=void 0!==s&&s;return Object(a.jsxs)("div",{className:"border border-gray-500 text-white text-md flex px-4 my-8 pt-2 justify-between relative",style:{height:"4.375rem",maxWidth:"34.4375rem"},children:[Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"text-base font-bold text-white",style:{lineHeight:"1.625rem"},children:t.name})}),Object(a.jsxs)("div",{className:"flex flex-col",children:[i&&Object(a.jsxs)("div",{className:"flex cursor-pointer",onClick:r,children:[Object(a.jsx)("img",{alt:"",src:fe,className:"mr-2"}),Object(a.jsx)("span",{children:n?"Details":"Resurrect"})]}),Object(a.jsx)(bt,{status:c,isActive:1===(null===t||void 0===t?void 0:t.state),isOver:2===(null===t||void 0===t?void 0:t.state),error:n})]})]})},Et=function(e){var t=e.sarcophagus,n=e.currentStatus,r=e.error,c=ne().toggle;return Object(a.jsx)(kt,{sarcophagus:t,toggle:c,expandedOption:!1,status:n,error:r})},Pt=function(e){var t=e.sarcophagus,n=Ct(t),r=n.currentStatus,c=n.error;return Object(a.jsx)(Et,{currentStatus:r,error:c,sarcophagus:t})},Rt=function(e){var t=e.sarcophagus,n=e.error,r=e.toggle,c=e.status,s=e.expandedOption,i=void 0!==s&&s;return Object(a.jsxs)("div",{className:"border border-gray-500 text-white text-md flex px-4 my-8 pt-2 justify-between relative",style:{height:"4.375rem",maxWidth:"34.4375rem"},children:[Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"text-base font-bold text-white",style:{lineHeight:"1.625rem"},children:t.name})}),Object(a.jsxs)("div",{className:"flex flex-col",children:[i&&Object(a.jsxs)("div",{className:"flex cursor-pointer",onClick:r,children:[Object(a.jsx)("img",{alt:"",src:fe,className:"mr-2"}),Object(a.jsx)("span",{children:n?"Details":"Resurrect"})]}),Object(a.jsx)(bt,{status:c,isOver:2===(null===t||void 0===t?void 0:t.state),error:n})]})]})},Ft=function(e){var t=e.sarcophagus,n=ne().toggle;return Object(a.jsx)(Rt,{sarcophagus:t,toggle:n,expandedOption:!1})},It=function(e){var t=e.sarcophagus;return Object(a.jsx)(Ft,{sarcophagus:t})},Dt=n(428),Mt=n(429),_t=function(){var e=Object(l.h)(),t=S().sarcophagusContract,n=Object(Mt.a)(t),r=n.embalmerSarcophagi,c=n.overSarcophagi,s=n.getSarcophagiCount,i=Object(Dt.a)(t),o=i.recipientSarcophagi,u=i.getRecipientSarcophagiCount,d=function(){s(),u()};return Object(a.jsxs)("div",{className:"border-t border-gray-500 md:border-none mt-8 md:mt-0 pt-8 md:pt-0 w-full",style:{maxWidth:"34.4375rem"},children:[Object(a.jsx)(it,{embalmerCount:null===r||void 0===r?void 0:r.length,recipientCount:null===o||void 0===o?void 0:o.length,overCount:null===c||void 0===c?void 0:c.length}),Object(a.jsxs)("div",{className:"mt-8",children:[Object(a.jsx)(l.b,{path:"".concat(e.path),exact:!0,children:null===r||void 0===r?void 0:r.map((function(e,t){return Object(a.jsx)(St,{sarcophagus:e,refresh:d},e.archaeologist+t.toString())}))}),Object(a.jsx)(l.b,{path:"".concat(e.path,"/received"),children:null===o||void 0===o?void 0:o.map((function(e,t){return Object(a.jsx)(Pt,{sarcophagus:e,refresh:d},e.archaeologist+t.toString())}))}),Object(a.jsx)(l.b,{path:"".concat(e.path,"/over"),children:null===c||void 0===c?void 0:c.map((function(e,t){return Object(a.jsx)(It,{sarcophagus:e,refresh:d},e.archaeologist+t.toString())}))})]})]})},Bt=function(){return Object(a.jsxs)("div",{className:"pt-8 px-8 flex justify-center md:justify-between flex-wrap md:flex-nowrap gap-3 md:gap-0",children:[Object(a.jsxs)("div",{className:"mr-4",style:{width:"22rem"},children:[Object(a.jsx)(W,{type:"subOne",icon:st,title:"Tomb"}),Object(a.jsxs)("div",{className:"mt-8 text-md text-white",style:{lineHeight:"1.4375rem"},children:[Object(a.jsx)("div",{children:"Your tomb contains your encrypted Sarcophagi. At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias."}),Object(a.jsx)("div",{className:"mt-4",children:"Excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga."})]})]}),Object(a.jsx)(_t,{})]})},Ht=function(){var e=Object(l.h)().url;return Object(a.jsxs)("div",{className:"border border-gray-500 p-4 mx-4 mb-8 mt-20 md:mt-0",style:{minHeight:"calc(100vh - 16rem)"},children:[Object(a.jsx)(l.b,{path:"".concat(e),exact:!0,children:Object(a.jsx)(l.a,{to:"/tomb"})}),Object(a.jsx)(l.b,{path:"".concat(e,"tomb"),component:Bt}),Object(a.jsx)(l.b,{path:"".concat(e,"create"),component:ct,exact:!0})]})},Wt=n(430),Vt=function(){return Object(a.jsx)("div",{className:"text-gray-400 text-xs my-4",children:Object(a.jsx)("div",{className:"pb-6 text-center",children:Object(a.jsxs)("div",{children:["v",Wt.version+"+56dc962"]})})})},Lt=n.p+"static/media/logo.46d0239c.png",Ut=n.p+"static/media/wallet.7d4fae45.svg",Kt=n(185),Gt=function(e){var t=e.title,n=e.dest,r=Object(A.a)(e,["title","dest"]);return Object(a.jsx)(u.b,Object(N.a)(Object(N.a)({to:n,activeClassName:"border-b-4 border-white text-white",className:"ml-6 pb-2 text-sm text-gray-300"},r),{},{children:t}))},qt=function(){var e=Object(f.b)().account;return e?Object(a.jsxs)("div",{className:"flex justify-center items-center w-full",children:[Object(Ke.b)(e,25),Object(a.jsx)("img",{src:qe,alt:"",className:"ml-6"})]}):Object(a.jsx)("button",{className:"underline text-center w-full",onClick:function(){return Object(Kt.a)()},children:"Connect Web3 Account"})},zt=function(){return Object(a.jsxs)("ul",{className:"flex whitespace-nowrap",children:[Object(a.jsx)("li",{className:"pr-4 py-1 ",children:Object(a.jsx)(Gt,{dest:"/tomb",title:"My Tomb"})}),Object(a.jsx)("li",{className:"px-4 py-1 ",children:Object(a.jsx)(Gt,{dest:"/create",title:"Create"})}),Object(a.jsx)("li",{className:"px-4 py-1 ",children:Object(a.jsx)(Gt,{dest:"/resurrect",title:"Resurrect"})})]})},Jt=function(){return Object(a.jsxs)("div",{className:"flex items-center flex-wrap",style:{height:"4rem"},children:[Object(a.jsx)("div",{className:"w-24 p-1 mr-4",children:Object(a.jsx)("img",{src:Lt,alt:"logo"})}),Object(a.jsx)("div",{className:"flex items-center w-full justify-center md:w-auto md:justify-start",children:Object(a.jsx)("div",{className:"",children:Object(a.jsx)(zt,{})})}),Object(a.jsxs)("div",{className:"flex items-center justify-center absolute right-0",style:{top:"2.75rem"},children:[Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:Ut,alt:"wallet",className:""})}),Object(a.jsx)("div",{className:"ml-3 text-sm text-gray-300 ",children:Object(a.jsx)(qt,{})})]})]})},Zt=function(){return Object(a.jsx)("div",{className:"mt-6 mb-16 relative",children:Object(a.jsx)(Jt,{})})},Yt=function(){return Object(a.jsxs)(u.a,{children:[Object(a.jsx)(Zt,{}),Object(a.jsx)(l.d,{children:Object(a.jsx)(Ht,{})}),Object(a.jsx)(Vt,{})]})},Qt=function(){return Object(a.jsx)("div",{className:"container relative",children:Object(a.jsx)(Yt,{})})},Xt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,925)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};o.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(f.a,{children:Object(a.jsx)(w,{children:Object(a.jsx)(Qt,{})})})}),document.getElementById("root")),Xt()},95:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e,t,n,r){if(e.length<=t)return e;var a=t-(n=n||"...").length,c=Math.ceil(r||a/2+1),s=Math.floor(a/2-1);return e.substr(0,c)+n+e.substr(e.length-s)},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Array.from({length:e+1},(function(e,t){return 0===t?0:t}));t&&n.shift();var r={};return n.forEach((function(e){return r["number_".concat(e)]=e})),r}}},[[907,1,2]]]);
//# sourceMappingURL=main.2a8fc0f9.chunk.js.map